fragment PortfolioSummary on Portfolio {
      cash
      private
      owner
      name
      description
      totalValue
      numberOfPositions
}

mutation createPortfolio($record: CreateOnePortfolioInput!) {
  createPortfolio(record: $record){
    error {
      message
    }
    record {
      _id
      ...PortfolioSummary
    }
  }
}

mutation removePortfolio($id: MongoID!){
  removePortfolio(_id: $id){
    recordId
    error {
      message
    }
  }
}

mutation updatePortfolio($id: MongoID!, $record: UpdateByIdPortfolioInput!) {
  updatePortfolio(_id: $id, record: $record){
    record {
      _id
      ...PortfolioSummary
    }
  }
}


mutation addPosition($record: CreateOnePositionInput!) {
  addPosition(record: $record) {
    error {
      message
    }
    recordId 
    record {
      _id
      owner
      positionSize
      averagePrice
      direction
      openDate
      closeDate
      exposure
      profitLossPercent
      dailyProfitLossUsd
      profitLossUsd
      costBasis
      marketValue
      symbol {
        _id
        symbol
        securityName
        quote {
          _id
          latestPrice
        }
      }
    }
  }
}

mutation removePosition($id: MongoID!) {
  removePosition(_id: $id) {
    recordId
    record {
      _id
    }
    error {
      message
    }
  }
}

mutation removePositions($ids: [MongoID!]!) {
  removePositions(ids: $ids) {
    numAffected
  }
}